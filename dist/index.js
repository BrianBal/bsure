var Q=function(f){if(typeof f==="boolean")return f;if(typeof f==="number")return f!==0;if(typeof f==="string")switch(f.toLowerCase().trim()){case"true":case"yes":case"y":case"1":case"on":case"enable":case"active":case"ok":return!0;case"false":case"no":case"n":case"0":case"off":case"disable":case"inactive":return!1;default:throw new Error(`Invalid string for parsing boolean: ${f}`)}throw new Error(`Cannot parse boolean from value: ${f}`)},k;(function($){$["CUSTOM"]="CUSTOM";$["STRING"]="STRING";$["NUMBER"]="NUMBER";$["BOOLEAN"]="BOOLEAN";$["ARRAY"]="ARRAY";$["OBJECT"]="OBJECT";$["EMAIL"]="EMAIL";$["PHONE"]="PHONE";$["URL"]="URL";$["DATE"]="DATE"})(k||(k={}));var F=(f,I,x)=>{let h=!0,q=void 0,C=void 0,w=x||{};try{switch(I){case k.STRING:q=z(f,w);break;case k.NUMBER:q=G(f,w);break;case k.BOOLEAN:q=H(f,w);break;case k.ARRAY:q=J(f,w);break;case k.OBJECT:q=K(f,w);break;case k.EMAIL:q=L(f,w);break;case k.PHONE:q=M(f,w);break;case k.URL:q=N(f,w);break;case k.DATE:q=O(f,w);break;default:break}}catch(E){h=!1,C=E.message}return{isValid:h,error:C,cleanValue:q}},X=F,z=(f,I)=>{let x=f;if(typeof x!=="string")if(I.convert)try{if(x instanceof Date)x=x.toISOString();else x=x.toString();if(x==="[object Object]")throw new Error("not a string")}catch(h){throw new Error("not a string")}else throw new Error("not a string");if(x=x.trim(),I.max&&x.length>I.max)throw new Error("too long");if(I.min&&x.length<I.min)throw new Error("too short");return x},G=(f,I)=>{let x=f;if(typeof f!=="number"||isNaN(f))if(I.convert){try{let h=typeof f;if(h==="string")x=parseFloat(f);else if(h==="boolean")x=x?1:0;else if(x instanceof Date)x=x.getTime();else throw new Error("not a number")}catch(h){throw new Error("not a number")}if(x===null||x===void 0||isNaN(x))throw new Error("not a number")}else throw new Error("not a number");if(I.max&&x>I.max)throw new Error("too big");if(I.min&&x<I.min)throw new Error("too small");return x},H=(f,I)=>{let x=f;if(typeof f!=="boolean")if(I.convert)try{x=Q(f)}catch(h){throw new Error("not a boolean")}else throw new Error("not a boolean");return x},J=(f,I)=>{if(!Array.isArray(f))throw new Error("not an array");if(I.max&&f.length>I.max)throw new Error("too long");if(I.min&&f.length<I.min)throw new Error("too short");return f},K=(f,I)=>{if(typeof f!=="object"||f===null||f===void 0||Array.isArray(f))throw new Error("not an object");return f},L=(f,I)=>{let x=void 0;try{x=z(f,{})}catch(h){throw new Error("not an email")}if(!x.match(/^[^@]+@[^@]+\.[^@]+$/))throw new Error("not an email");return x},M=(f,I)=>{let x=void 0;try{x=z(f,{})}catch(h){throw new Error("not a phone number")}if(x=f.replaceAll(/[^\d+]/g,""),(x?.length??0)<10)throw new Error("not a phone number");if(!(x??"").startsWith("+"))throw new Error("missing country code");return x},N=(f,I)=>{let x=void 0;try{x=z(f,{})}catch(h){throw new Error("not a url")}if(!x.match(/^https?:\/\/.+\..+$/))throw new Error("not a url");return x},O=(f,I)=>{if(f instanceof Date===!1)throw new Error("not a date");if(I.max){if(f.getTime()>I.max)throw new Error("too late")}if(I.min){if(f.getTime()<I.min)throw new Error("too early")}return f};export{X as default,k as BSureType};
